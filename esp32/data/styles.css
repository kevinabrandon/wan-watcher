/* Dashboard-specific styles (90s retro style) */

/* Freshness bar */
.freshness-bar {
  display: flex;
  height: 20px;
  border: 2px inset var(--border-color);
  background: var(--bg-tertiary);
  gap: 2px;
  padding: 2px;
  width: 180px;
  flex-shrink: 0;
}
.freshness-led {
  flex: 1;
  height: 100%;
  background: var(--border-color);
  transition: background-color 0.1s;
}
.freshness-led.green { background: var(--success); }
.freshness-led.yellow { background: var(--warning); }
.freshness-led.red { background: var(--danger); }
.freshness-bar.blink .freshness-led.red { animation: led-blink 0.5s infinite; }
@keyframes led-blink { 50% { background: var(--border-color); } }

/* 7-segment display panel */
.display-panel {
  background: var(--bg-primary);
  padding: 1rem;
  margin: 1rem auto;
  display: block;
  width: fit-content;
  border: 2px outset var(--border-color);
}
.display-grid {
  display: grid;
  grid-template-columns: auto auto auto auto;
  gap: 25px 25px;
  align-items: center;
}
.display-grid .row-label {
  color: var(--text-primary);
  font-size: 0.9em;
  font-weight: bold;
  text-align: right;
  padding-right: 8px;
}
.display-grid .col-header {
  color: var(--text-secondary);
  font-size: 0.8em;
  font-weight: bold;
  text-align: center;
}
.seg-display {
  display: inline-flex;
  background: var(--bg-secondary);
  padding: 8px 12px;
  cursor: pointer;
  justify-self: center;
  border: 2px inset var(--border-color);
}

/* Top control row */
.control-row {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
  padding-bottom: 12px;
  border-bottom: 2px outset var(--border-color);
}
.power-toggle-panel {
  display: flex;
  align-items: center;
  gap: 8px;
}
.power-toggle-panel label {
  color: var(--text-primary);
  font-size: 0.8em;
}
.brightness-panel {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}
.brightness-panel span {
  color: var(--text-primary);
  font-size: 0.8em;
  min-width: 1.5em;
}

/* Dial knob */
.dial-knob {
  width: 36px;
  height: 36px;
  background: var(--bg-secondary);
  border-radius: 50%;
  border: 2px outset var(--border-color);
  position: relative;
  cursor: pointer;
}
.dial-knob::after {
  content: '';
  position: absolute;
  top: 4px;
  left: 50%;
  width: 3px;
  height: 10px;
  background: var(--text-bright);
  transform: translateX(-50%);
}
.dial-knob:active { border-style: inset; }

/* State LEDs */
.led-group {
  display: flex;
  justify-content: center;
  gap: 6px;
}
.state-led {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 1px solid var(--border-color);
}
.state-led.off { background: var(--bg-tertiary); }
.state-led.green { background: var(--success); }
.state-led.yellow { background: var(--warning); }
.state-led.red { background: var(--danger); }
.state-led.blink-red { background: var(--danger); animation: led-blink 0.5s infinite; }

/* 7-segment digits */
.digit {
  position: relative;
  width: 28px;
  height: 50px;
  margin: 0 2px;
}
.seg {
  position: absolute;
  background: var(--bg-tertiary);
}
.seg.on {
  background: #f00;
}
.seg-a, .seg-d, .seg-g {
  width: 18px;
  height: 5px;
  left: 5px;
}
.seg-a { top: 0; }
.seg-g { top: 22px; }
.seg-d { top: 45px; }
.seg-b, .seg-c, .seg-e, .seg-f {
  width: 5px;
  height: 18px;
}
.seg-f { left: 0; top: 3px; }
.seg-b { right: 0; top: 3px; }
.seg-e { left: 0; top: 25px; }
.seg-c { right: 0; top: 25px; }
.seg-dp {
  position: absolute;
  width: 5px;
  height: 5px;
  right: -3px;
  bottom: 2px;
  border-radius: 50%;
  background: var(--bg-tertiary);
}
.seg-dp.on {
  background: #f00;
}

/* Status indicators */
.override-indicator {
  font-size: 0.7em;
  color: var(--warning);
}
.switch-status {
  font-size: 0.7em;
  color: var(--text-muted);
}
.switch-status.override {
  color: var(--warning);
}

/* Vertical Toggle Switch */
.v-toggle-switch {
  position: relative;
  display: inline-block;
  width: 34px;
  height: 60px;
  background-color: var(--bg-tertiary);
  border: 2px inset var(--border-color);
  cursor: pointer;
}
.v-toggle-switch .on-label,
.v-toggle-switch .off-label {
  position: absolute;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 0.6em;
  font-weight: bold;
  color: var(--text-secondary);
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.v-toggle-switch .on-label { top: 6px; }
.v-toggle-switch .off-label { bottom: 6px; }
.v-toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.v-slider {
  position: absolute;
  left: 4px;
  width: 26px;
  height: 26px;
  background: var(--bg-primary);
  border: 2px outset var(--border-color);
  transition: transform 0.2s ease-in-out;
}
.v-toggle-switch input:checked ~ .v-slider {
  transform: translateY(4px);
}
.v-toggle-switch input:not(:checked) ~ .v-slider {
  transform: translateY(30px);
}
.v-toggle-switch input:checked ~ .on-label { color: var(--success); }
.v-toggle-switch input:not(:checked) ~ .off-label { color: var(--text-bright); }

/* Radio button and checkbox styling */
input[type="radio"],
input[type="checkbox"] {
  accent-color: var(--accent);
}

input[type="radio"]:focus-visible,
input[type="checkbox"]:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Metrics tables - wide/narrow toggle */
.metrics-tables-narrow {
  display: none;
}

/* Mobile responsive styles for dashboard */
@media (max-width: 768px) {
  .metrics-table-wide {
    display: none;
  }
  .metrics-tables-narrow {
    display: block;
  }
  .display-panel {
    transform: scale(0.85);
    transform-origin: top left;
    margin: 1rem 0;
    margin-bottom: -45px;
  }
  .control-row {
    gap: 12px;
  }
  .freshness-bar {
    width: 140px;
  }
}

@media (max-width: 480px) {
  .display-panel {
    transform: scale(0.7);
    margin-bottom: -90px;
  }

  .display-grid {
    gap: 15px 15px;
  }

  .freshness-bar {
    width: 100px;
  }

  .digit {
    width: 22px;
    height: 40px;
  }

  .seg-a, .seg-d, .seg-g {
    width: 14px;
    height: 4px;
    left: 4px;
  }

  .seg-a { top: 0; }
  .seg-g { top: 17px; }
  .seg-d { top: 35px; }

  .seg-b, .seg-c, .seg-e, .seg-f {
    width: 4px;
    height: 14px;
  }

  .seg-f { left: 0; top: 2px; }
  .seg-b { right: 0; top: 2px; }
  .seg-e { left: 0; top: 20px; }
  .seg-c { right: 0; top: 20px; }
}
